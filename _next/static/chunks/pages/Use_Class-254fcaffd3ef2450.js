(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752],{5708:function(e,t,r){var n;"undefined"!=typeof self&&self,e.exports=(n=r(7294),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function o(e){return u(e)||a(e)||i(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=r(1),p=r.n(l),h="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,d=Object(l.forwardRef)((function(e,t){var r=Object(l.useRef)(),c=Object(l.useRef)();return h((function(){function t(){var t=e.highcharts||"object"===("undefined"==typeof window?"undefined":f(window))&&window.Highcharts,n=e.constructorType||"chart";t?t[n]?e.options?c.current=t[n](r.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(c.current){if(!1!==e.allowChartUpdate)if(!e.immutable&&c.current){var n;(n=c.current).update.apply(n,[e.options].concat(o(e.updateArgs||[!0,!0])))}else t()}else t()})),h((function(){return function(){c.current&&(c.current.destroy(),c.current=null)}}),[]),Object(l.useImperativeHandle)(t,(function(){return{get chart(){return c.current},container:r}}),[]),p.a.createElement("div",n({},e.containerProps,{ref:r}))}));t.default=Object(l.memo)(d)},function(e,t){e.exports=n}]))},5095:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Use_Class",function(){return r(4502)}])},4502:function(e,t,r){"use strict";r.r(t);var n=r(5893),o=r(7294),c=r(8840),i=r.n(c),a=r(5708),u=r.n(a),s=r(1496);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?l(e):t}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,o,c=v(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this)).state={selected:Array(47).fill(!1),prefectures:{},series:[]},e._changeSelection=e._changeSelection.bind(l(e)),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;fetch("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":s.Z}}).then((function(e){return e.json()})).then((function(t){e.setState({prefectures:t.result})}))}},{key:"_changeSelection",value:function(e){var t=this.state.selected.slice();if(t[e]=!t[e],this.state.selected[e]){for(var r=this.state.series.slice(),n=0;n<r.length;n++)r[n].name==this.state.prefectures[e].prefName&&r.splice(n,1);this.setState({selected:t,series:r})}else{var o=this;fetch("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?cityCode=-&prefCode=".concat(e+1),{headers:{"X-API-KEY":s.Z}}).then((function(e){return e.json()})).then((function(r){console.log(r);var n=[];Object.keys(r.result.data[0].data).forEach((function(e){n.push(r.result.data[0].data[e].value)}));var c={name:o.state.prefectures[e].prefName,data:n};o.setState({selected:t,series:b(o.state.series).concat([c])})}))}}},{key:"renderItem",value:function(e){var t=this;return(0,n.jsxs)("div",{style:{margin:"5px",display:"inline-block"},children:[(0,n.jsx)("input",{type:"checkbox",checked:this.state.selected[e.prefCode-1],onChange:function(){return t._changeSelection(e.prefCode-1)}}),e.prefName]},e.prefCode)}},{key:"render",value:function(){var e=this,t=this.state.prefectures,r={title:{text:"\u7dcf\u4eba\u53e3"},plotOptions:{series:{label:{connectorAllowed:!1},pointInterval:5,pointStart:1980}},series:this.state.series};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Highcharts React + RESAS API Demo"}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://github.com/highcharts/highcharts-react",children:"Highcharts React"})}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://opendata.resas-portal.go.jp/",children:"RESAS API"})}),Object.keys(t).map((function(r){return e.renderItem(t[r])})),(0,n.jsx)(u(),{highcharts:i(),options:r})]})}}])&&p(t.prototype,r),o&&p(t,o),a}(o.Component);t.default=g},1496:function(e,t){"use strict";t.Z="e33srphjNUTChudraQsXa5iyPACXP16CDTtHO21L"}},function(e){e.O(0,[898,774,888,179],(function(){return t=5095,e(e.s=t);var t}));var t=e.O();_N_E=t}]);